{"cells":[{"cell_type":"markdown","metadata":{"id":"hTxBAtbgZO10"},"source":["# HW5 RAG"]},{"cell_type":"markdown","metadata":{"id":"BnfwGyfaH-Vj"},"source":["## 1. è«‹å®Œæˆä»¥ä¸‹ç¨‹å¼ (50%)\n","\n","ä»¥ä¸‹ç¨‹å¼ç¢¼æœ‰è¨±å¤šä¸å®Œæ•´çš„åœ°æ–¹ï¼Œè«‹ä¾ç…§åŸæœ¬çš„ç¨‹å¼æ¡†æ¶ï¼Œè£œé½Šæ‰€æœ‰æœªå®Œæˆçš„éƒ¨åˆ†ï¼Œè«‹ç¢ºä¿æ‰€æœ‰ç¨‹å¼ç¢¼èƒ½å®Œæ•´åŸ·è¡Œä¸¦å¾—åˆ°åˆç†çš„å›ç­”çµæœã€‚"]},{"cell_type":"markdown","metadata":{"id":"szzj-7UwopOk"},"source":["---\n","---\n","# [1] é¦–å…ˆå®‰è£ä¸‰å€‹å¥—ä»¶\n","---\n","---\n","\n","ä»¥ä¸‹æ˜¯ä¸‰å€‹å¥—ä»¶çš„ç”¨é€”èªªæ˜ï¼š\n","---\n","### **1. `sentence-transformers`**\n","- **ç”¨é€”**ï¼š  \n","  åŸºæ–¼é è¨“ç·´çš„ Transformer æ¨¡å‹ï¼ˆå¦‚ BERTã€RoBERTa ç­‰ï¼‰ï¼Œå°ˆé–€ç”¨æ–¼ç”Ÿæˆ**å¥å­æˆ–æ®µè½çš„åµŒå…¥å‘é‡ï¼ˆEmbeddingsï¼‰**ã€‚  \n","  é©ç”¨æ–¼ï¼š\n","  - æ–‡æœ¬ç›¸ä¼¼åº¦è¨ˆç®—ï¼ˆå¦‚åˆ¤æ–·å…©æ®µæ–‡å­—çš„èªç¾©ç›¸è¿‘ç¨‹åº¦ï¼‰\n","  - èªç¾©æœç´¢ï¼ˆSemantic Searchï¼‰\n","  - æ–‡æœ¬èšé¡ï¼ˆClusteringï¼‰\n","  - å•ç­”ç³»çµ±çš„èªç¾©åŒ¹é…\n","---\n","### **2. `faiss-cpu`**\n","- **ç”¨é€”**ï¼š  \n","  Facebook AI Research (FAIR) é–‹ç™¼çš„**é«˜æ•ˆå‘é‡ç›¸ä¼¼åº¦æœç´¢èˆ‡èšé¡åº«**ï¼ˆCPU ç‰ˆæœ¬ï¼‰ï¼Œå°ˆç‚ºå¤§è¦æ¨¡å‘é‡æ•¸æ“šè¨­è¨ˆã€‚  \n","  é©ç”¨æ–¼ï¼š\n","  - å¿«é€ŸæŸ¥æ‰¾æœ€ç›¸ä¼¼çš„å‘é‡ï¼ˆå¦‚æ¨è–¦ç³»çµ±ã€ä»¥åœ–æœåœ–ã€æ–‡æœ¬æª¢ç´¢ï¼‰\n","  - è™•ç†é«˜ç¶­åº¦æ•¸æ“šçš„è¿‘ä¼¼æœ€è¿‘é„°æœç´¢ï¼ˆApproximate Nearest Neighbor, ANNï¼‰\n","  - æ”¯æŒæ‰¹é‡è™•ç†ï¼Œé©åˆæ•¸ç™¾è¬ç´šåˆ¥çš„å‘é‡æ•¸æ“šåº«\n","---\n","### **3. `requests`**\n","- **ç”¨é€”**ï¼š  \n","  ç°¡æ½”æ˜“ç”¨çš„ **HTTP å®¢æˆ¶ç«¯åº«**ï¼Œç”¨æ–¼ç™¼é€ HTTP è«‹æ±‚ï¼ˆGETã€POSTã€PUT ç­‰ï¼‰ä¸¦è™•ç†éŸ¿æ‡‰ã€‚  \n","  é©ç”¨æ–¼ï¼š\n","  - èˆ‡ RESTful API äº’å‹•ï¼ˆå¦‚çˆ¬å–ç¶²é ã€å­˜å–é›²ç«¯æœå‹™ï¼‰\n","  - ä¸‹è¼‰æª”æ¡ˆæˆ–æ•¸æ“š\n","  - è‡ªå‹•åŒ–æ¸¬è©¦ä¸­çš„ç¶²çµ¡è«‹æ±‚æ¨¡æ“¬\n","---"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"3o7C0fCYhII_"},"outputs":[],"source":["# âœ… STEP 1: å®‰è£éœ€è¦çš„å¥—ä»¶\n","\n","!pip install -q sentence-transformers faiss-cpu requests"]},{"cell_type":"markdown","metadata":{"id":"Q_ZZoeCFziNN"},"source":["---\n","---\n","# [2]å®‰è£å¿…è¦æ¨¡çµ„\n","---\n","---"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Tcmof23Ghh2I"},"outputs":[],"source":["# âœ… STEP 2: è¼‰å…¥å¿…è¦æ¨¡çµ„\n","\n","from sentence_transformers import SentenceTransformer\n","import faiss\n","import numpy as np\n","import requests\n","import pandas as pd"]},{"cell_type":"markdown","metadata":{"id":"I6W09TDHAncD"},"source":["---\n","---\n","#[3] è¼‰å…¥ä¸¦æº–å‚™èªæ–™\n","---\n","---"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4223,"status":"ok","timestamp":1743890137624,"user":{"displayName":"åˆå¥åŸ","userId":"08860006871766403367"},"user_tz":-480},"id":"sY7i1VwTIMBF","outputId":"ddd1fb50-4555-424d-f04a-b6b7286ade61"},"outputs":[{"output_type":"stream","name":"stdout","text":["Downloading...\n","From: https://drive.google.com/uc?id=1AF2g2WTtXQwb02S5EAD7aL48c9BkV1ed\n","To: /content/dcard-top100.csv\n","\r  0% 0.00/186k [00:00<?, ?B/s]\r100% 186k/186k [00:00<00:00, 64.5MB/s]\n"]}],"source":["### éå°å¤§å­¸ç”Ÿè«‹åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼ç²å–èªæ–™ ###\n","\n","!gdown 1AF2g2WTtXQwb02S5EAD7aL48c9BkV1ed\n","\n","### éå°å¤§å­¸ç”Ÿè«‹åŸ·è¡Œä»¥ä¸Šç¨‹å¼ç¢¼ç²å–èªæ–™ ###"]},{"cell_type":"markdown","metadata":{"id":"3YyTpzRBBCG1"},"source":["## **:::::ä¸å®Œæ•´ç¨‹å¼è£œå…… #1**:::::\n","## - è®€å…¥dataframe æ™‚è£œå……é¡Œç›®ä¸­ç•™æœªä½¿ç”¨çš„pd.read_csvç‰©ä»¶"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":4642},"executionInfo":{"elapsed":58,"status":"ok","timestamp":1743891946420,"user":{"displayName":"åˆå¥åŸ","userId":"08860006871766403367"},"user_tz":-480},"id":"W5IArLtq8h2K","outputId":"50bc1e7f-6c9d-4626-f6c3-6a2aea56145f"},"outputs":[{"output_type":"stream","name":"stdout","text":["100\n"]},{"output_type":"execute_result","data":{"text/plain":["           ID                                              title  \\\n","0   235443715                                   ä¸‰æ›´ 21æ­²é€™å¹´æˆ‘å·®é»è¢«æ´»æ´»ç‡’æ­»   \n","1   235442609                                  è¶…ç‹‚å­¸ç¶“æ­·ï¼195å…¬åˆ†å¸¥å®¶æ•™å¾µå­¸ç”Ÿ   \n","2   235441998                                     æˆ‘çš„æ¨¡ç‰¹ç•Œæ™‚é–“ç®¡ç†å¤§å¸«å‰ç”·å‹   \n","3   235441259                                               è±†çš®åŠ çˆ†   \n","4   235442693                                            é€™æ¨£å¥³ç”Ÿè©²è¿½å—   \n","..        ...                                                ...   \n","95  235444562  ä¸»é¡Œï¼šğŸ’Ÿæ„›æƒ…å¡”ç¾…ğŸ’Ÿ ä»–è¦çš„æ„Ÿæƒ…é—œä¿‚vs æˆ‘è¦çš„æ„Ÿæƒ…é—œä¿‚ç‚ºä½•ï¼Ÿå…©å€‹äººçš„è¿‘æœŸç™¼å±•ï¼ˆæ›–æ˜§/äº¤å¾€ä¸­/...   \n","96  235441027                        #åˆ†äº« è€èŠ±å¤è‘£åŒ… LV æ–¹ç›’å­ï½œCeline åŒ–å¦ç®±   \n","97  235447320                                       åœ¨å…¬è»Šä¸Šé‡åˆ°çš„è¶…å°·å°¬äº‹ä»¶   \n","98  235440749         #å¤§çœ¾å åœ ğŸ¥ºã€‚ä»–ç¾åœ¨å°æˆ‘çš„æƒ³æ³•æ˜¯?ä»–çš„ä¸‹ä¸€æ­¥æ˜¯ä»€éº¼?æˆ‘èƒ½ç‚ºé€™æ®µé—œä¿‚åšä»€éº¼æ¨£çš„åŠªåŠ›â£   \n","99  235442177                                       æ‰€ä»¥ï¼Œä½ è¦ç•¶æˆ‘å¥³æœ‹å‹å—ï¼Ÿ   \n","\n","                                              content  \n","0   éƒ¨åˆ†å›æ‡‰åœ¨B117 \\r\\nè¬è¬å„ä½çš„ç•™è¨€ï¼Œæˆ‘éƒ½æœ‰çœ‹å®Œ\\r\\nå¥½çš„ä¸å¥½çš„ï¼Œæˆ‘éƒ½æ¥å—è¬è¬å¤§å®¶ğŸ™‡...  \n","1   https://i.imgur.com/REIEzSd.jpg\\r\\n\\r\\nèº«é«˜195å…¬åˆ†...  \n","2   çœ‹éé€™éº¼å¤šåœ¨Dcardã€PTTä¸Šçš„æ„Ÿæƒ…æ¸£äº‹å’Œå‰µä½œæ–‡\\r\\nå¾æ²’æƒ³éå¦‚æ­¤è’è¬¬åƒå…«é»æª”çš„äº‹æƒ…å±…ç„¶...  \n","3   å‰›å‰›åƒå°ç«é‹ï¼Œè·Ÿåº—å“¡èªªä¸è¦é‡‘é‡è‡ï¼ˆæ€•å¡ç‰™ç¸«ï¼‰ï¼Œæ–¼æ˜¯åº—å“¡å¹«æˆ‘æ›å…¶ä»–é…æ–™..â€¦\\r\\n\\r\\næ²’...  \n","4   å·²ç¶“ç´„å¥½è¦‹é¢ï¼Œåˆ°äº†ç•¶å¤©æ™šä¸Šä¸ƒé»åŠæ‰å›ï¼Œæˆ‘æ˜¯è¢«è€äº†å— \\r\\nå¦‚ä¸‹åœ–\\r\\n\\r\\n\\r\\nh...  \n","..                                                ...  \n","95  ğŸ¤—æ„Ÿè¬æˆ‘å€‘ä¹‹é–“çš„é€£çµå¸¶é ˜ä½ ä¾†åˆ°é€™è£¡ï¼ \\r\\n\\r\\nä¸»é¡Œï¼šğŸ’Ÿæ„›æƒ…å¡”ç¾…ğŸ’Ÿ ä»–è¦çš„æ„Ÿæƒ…é—œä¿‚vs...  \n","96  è¿‘æœŸè³¼å…¥çš„å…©æ¬¾å¤è‘£åŒ… å¯èƒ½å› ç‚ºæ˜¯æ–°æ­¡ æ‰€ä»¥éƒ½è®“æˆ‘æ„›ä¸é‡‹æ‰‹(à¹‘â€¢Ì€ â€¢Ì)Ùˆâœ§\\r\\nä¸éæ­£æ˜¯...  \n","97  å‰›å‰›åœ¨å…¬è»Šä¸Šæœ‰ä¸€å€‹é˜¿ä¼¯ä¸‹è»Šå‰è·Ÿæˆ‘èªªï¼šå¦¹å¦¹ä½ å¾ˆæœ‰æ„›å¿ƒæ¬¸ è®“ä½ç½®çµ¦åˆ¥äºº ä¸åƒæœ‰äº›äººéƒ½åœ¨è£ç¡\\r\\...  \n","98  å¤§å®¶å¥½é€™è£¡æ˜¯é‡‘é­šğŸ™\\r\\né€™æ¬¡çš„å åœé©åˆæ–·è¯ã€æ›–æ˜§ã€å¾©åˆçš„æ—ç¾¤\\r\\n\\r\\nå†ä¸Šåœ–ä¹‹å‰å…ˆç½®...  \n","99  ã€Œæ‰€ä»¥ï¼Œä½ è¦ç•¶æˆ‘å¥³æœ‹å‹å—ï¼Ÿã€æˆ‘çœ‹é€²å¥¹çš„çœ¼ç›ï¼Œéš±ç´„åå°„å‡ºè‡ªå·±çš„å€’å½±ã€‚èººåœ¨åºŠä¸Šçš„æˆ‘å€‘å‘¼å¸æœ‰äº›ç´Šäº‚...  \n","\n","[100 rows x 3 columns]"],"text/html":["\n","  <div id=\"df-8e708742-b10e-433f-9d8d-766f884f257a\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>ID</th>\n","      <th>title</th>\n","      <th>content</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>235443715</td>\n","      <td>ä¸‰æ›´ 21æ­²é€™å¹´æˆ‘å·®é»è¢«æ´»æ´»ç‡’æ­»</td>\n","      <td>éƒ¨åˆ†å›æ‡‰åœ¨B117 \\r\\nè¬è¬å„ä½çš„ç•™è¨€ï¼Œæˆ‘éƒ½æœ‰çœ‹å®Œ\\r\\nå¥½çš„ä¸å¥½çš„ï¼Œæˆ‘éƒ½æ¥å—è¬è¬å¤§å®¶ğŸ™‡...</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>235442609</td>\n","      <td>è¶…ç‹‚å­¸ç¶“æ­·ï¼195å…¬åˆ†å¸¥å®¶æ•™å¾µå­¸ç”Ÿ</td>\n","      <td>https://i.imgur.com/REIEzSd.jpg\\r\\n\\r\\nèº«é«˜195å…¬åˆ†...</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>235441998</td>\n","      <td>æˆ‘çš„æ¨¡ç‰¹ç•Œæ™‚é–“ç®¡ç†å¤§å¸«å‰ç”·å‹</td>\n","      <td>çœ‹éé€™éº¼å¤šåœ¨Dcardã€PTTä¸Šçš„æ„Ÿæƒ…æ¸£äº‹å’Œå‰µä½œæ–‡\\r\\nå¾æ²’æƒ³éå¦‚æ­¤è’è¬¬åƒå…«é»æª”çš„äº‹æƒ…å±…ç„¶...</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>235441259</td>\n","      <td>è±†çš®åŠ çˆ†</td>\n","      <td>å‰›å‰›åƒå°ç«é‹ï¼Œè·Ÿåº—å“¡èªªä¸è¦é‡‘é‡è‡ï¼ˆæ€•å¡ç‰™ç¸«ï¼‰ï¼Œæ–¼æ˜¯åº—å“¡å¹«æˆ‘æ›å…¶ä»–é…æ–™..â€¦\\r\\n\\r\\næ²’...</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>235442693</td>\n","      <td>é€™æ¨£å¥³ç”Ÿè©²è¿½å—</td>\n","      <td>å·²ç¶“ç´„å¥½è¦‹é¢ï¼Œåˆ°äº†ç•¶å¤©æ™šä¸Šä¸ƒé»åŠæ‰å›ï¼Œæˆ‘æ˜¯è¢«è€äº†å— \\r\\nå¦‚ä¸‹åœ–\\r\\n\\r\\n\\r\\nh...</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>95</th>\n","      <td>235444562</td>\n","      <td>ä¸»é¡Œï¼šğŸ’Ÿæ„›æƒ…å¡”ç¾…ğŸ’Ÿ ä»–è¦çš„æ„Ÿæƒ…é—œä¿‚vs æˆ‘è¦çš„æ„Ÿæƒ…é—œä¿‚ç‚ºä½•ï¼Ÿå…©å€‹äººçš„è¿‘æœŸç™¼å±•ï¼ˆæ›–æ˜§/äº¤å¾€ä¸­/...</td>\n","      <td>ğŸ¤—æ„Ÿè¬æˆ‘å€‘ä¹‹é–“çš„é€£çµå¸¶é ˜ä½ ä¾†åˆ°é€™è£¡ï¼ \\r\\n\\r\\nä¸»é¡Œï¼šğŸ’Ÿæ„›æƒ…å¡”ç¾…ğŸ’Ÿ ä»–è¦çš„æ„Ÿæƒ…é—œä¿‚vs...</td>\n","    </tr>\n","    <tr>\n","      <th>96</th>\n","      <td>235441027</td>\n","      <td>#åˆ†äº« è€èŠ±å¤è‘£åŒ… LV æ–¹ç›’å­ï½œCeline åŒ–å¦ç®±</td>\n","      <td>è¿‘æœŸè³¼å…¥çš„å…©æ¬¾å¤è‘£åŒ… å¯èƒ½å› ç‚ºæ˜¯æ–°æ­¡ æ‰€ä»¥éƒ½è®“æˆ‘æ„›ä¸é‡‹æ‰‹(à¹‘â€¢Ì€ â€¢Ì)Ùˆâœ§\\r\\nä¸éæ­£æ˜¯...</td>\n","    </tr>\n","    <tr>\n","      <th>97</th>\n","      <td>235447320</td>\n","      <td>åœ¨å…¬è»Šä¸Šé‡åˆ°çš„è¶…å°·å°¬äº‹ä»¶</td>\n","      <td>å‰›å‰›åœ¨å…¬è»Šä¸Šæœ‰ä¸€å€‹é˜¿ä¼¯ä¸‹è»Šå‰è·Ÿæˆ‘èªªï¼šå¦¹å¦¹ä½ å¾ˆæœ‰æ„›å¿ƒæ¬¸ è®“ä½ç½®çµ¦åˆ¥äºº ä¸åƒæœ‰äº›äººéƒ½åœ¨è£ç¡\\r\\...</td>\n","    </tr>\n","    <tr>\n","      <th>98</th>\n","      <td>235440749</td>\n","      <td>#å¤§çœ¾å åœ ğŸ¥ºã€‚ä»–ç¾åœ¨å°æˆ‘çš„æƒ³æ³•æ˜¯?ä»–çš„ä¸‹ä¸€æ­¥æ˜¯ä»€éº¼?æˆ‘èƒ½ç‚ºé€™æ®µé—œä¿‚åšä»€éº¼æ¨£çš„åŠªåŠ›â£</td>\n","      <td>å¤§å®¶å¥½é€™è£¡æ˜¯é‡‘é­šğŸ™\\r\\né€™æ¬¡çš„å åœé©åˆæ–·è¯ã€æ›–æ˜§ã€å¾©åˆçš„æ—ç¾¤\\r\\n\\r\\nå†ä¸Šåœ–ä¹‹å‰å…ˆç½®...</td>\n","    </tr>\n","    <tr>\n","      <th>99</th>\n","      <td>235442177</td>\n","      <td>æ‰€ä»¥ï¼Œä½ è¦ç•¶æˆ‘å¥³æœ‹å‹å—ï¼Ÿ</td>\n","      <td>ã€Œæ‰€ä»¥ï¼Œä½ è¦ç•¶æˆ‘å¥³æœ‹å‹å—ï¼Ÿã€æˆ‘çœ‹é€²å¥¹çš„çœ¼ç›ï¼Œéš±ç´„åå°„å‡ºè‡ªå·±çš„å€’å½±ã€‚èººåœ¨åºŠä¸Šçš„æˆ‘å€‘å‘¼å¸æœ‰äº›ç´Šäº‚...</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>100 rows Ã— 3 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-8e708742-b10e-433f-9d8d-766f884f257a')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-8e708742-b10e-433f-9d8d-766f884f257a button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-8e708742-b10e-433f-9d8d-766f884f257a');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-f6b01e74-762c-4645-9c8f-39809fe852b4\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f6b01e74-762c-4645-9c8f-39809fe852b4')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-f6b01e74-762c-4645-9c8f-39809fe852b4 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_6836e917-189c-48c2-be11-aa9b35be82fc\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('docs_df')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_6836e917-189c-48c2-be11-aa9b35be82fc button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('docs_df');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"docs_df","summary":"{\n  \"name\": \"docs_df\",\n  \"rows\": 100,\n  \"fields\": [\n    {\n      \"column\": \"ID\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1901,\n        \"min\": 235440749,\n        \"max\": 235449149,\n        \"num_unique_values\": 100,\n        \"samples\": [\n          235445118,\n          235443128,\n          235443536\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"title\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 100,\n        \"samples\": [\n          \"\\u88ab\\u8feb\\u585e\\u68c9\\u689d\\u4e0a\\u6e38\\u6cf3\\u8ab2 \\u7537\\u8001\\u5e2b\\uff1a\\u4e0d\\u670d\\u5c31\\u958b\\u91ab\\u751f\\u8b49\\u660e\\u300c\\u585e\\u68c9\\u689d\\u6709\\u7919\\u8eab\\u9ad4\\u300d\",\n          \"\\u4f60\\u53c8\\u4e0d\\u662f\\u6211\\u7684\\u7537\\u670b\\u53cb\",\n          \"\\u539f\\u4f86\\u9650\\u52d5\\u522a\\u6389\\u5f8c\\u9084\\u80fd\\u627e\\u5230\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"content\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 100,\n        \"samples\": [\n          \"https://i.imgur.com/zlOWjhc.jpg\\r\\n\\u53f0\\u4e2d\\u5e02\\u6709\\u5bb6\\u9577\\u5728\\u81c9\\u66f8\\u62b1\\u6028\\uff0c\\u5973\\u5152\\u5728\\u5b78\\u6821\\u4e0a\\u9ad4\\u80b2\\u8ab2\\uff0c\\u7adf\\u88ab\\u7537\\u8001\\u5e2b\\u5f37\\u8feb\\u8981\\u300c\\u585e\\u68c9\\u689d\\u4e0a\\u6e38\\u6cf3\\u8ab2\\u300d\\uff0c\\u4f46\\u5973\\u5152\\u624d\\u570b\\u4e2d\\u800c\\u5df2\\uff0c\\u4e5f\\u4e0d\\u662f\\u6e38\\u6cf3\\u6821\\u968a\\uff0c\\u6240\\u4ee5\\u554f\\u5927\\u5bb6\\u6703\\u6309\\u7167\\u8001\\u5e2b\\u7684\\u6307\\u793a\\u53bb\\u505a\\u55ce\\uff1f\\u4e14\\u900f\\u9732\\u7537\\u8001\\u5e2b\\u8868\\u793a\\u5982\\u679c\\u4e0d\\u9858\\u610f\\u7167\\u505a\\uff0c\\u5c31\\u4e00\\u5b9a\\u8981\\u958b\\u91ab\\u751f\\u8b49\\u660e\\uff0c\\u8b93\\u7db2\\u53cb\\u770b\\u4e86\\u8d85\\u50bb\\u773c\\u3002\\r\\nhttps://i.imgur.com/UgCzGse.jpg\\r\\n\\r\\n\\u539fPO\\u5728\\u81c9\\u66f8\\u793e\\u5718\\u300c\\u5927\\u91cc\\u4eba\\u804a\\u5929\\u5ba4\\u300d\\u8868\\u793a\\u4f4d\\u65bc\\u53f0\\u4e2d\\u5927\\u91cc\\u5de5\\u696d\\u5340\\u7684\\u5149X\\u570b\\u4e2d\\uff0c\\u6709\\u7537\\u8001\\u5e2b\\u8981\\u6c42\\u5973\\u5152\\u585e\\u68c9\\u689d\\u4e0a\\u6e38\\u6cf3\\u8ab2\\uff0c\\u4f46\\u5973\\u5b78\\u751f\\u7684\\u5abd\\u5abd\\u53cd\\u5c0d\\uff0c\\u6c92\\u60f3\\u5230\\u8001\\u5e2b\\u7adf\\u8981\\u6c42\\u4ed6\\u5011\\u62ff\\u51fa\\u91ab\\u751f\\u8b49\\u660e\\uff0c\\u660e\\u78ba\\u5beb\\u8457\\u300c\\u585e\\u68c9\\u689d\\u6709\\u7919\\u8eab\\u9ad4\\u300d\\u6216\\u300c\\u751f\\u7406\\u671f\\u4e0d\\u9069\\u5408\\u6e38\\u6cf3\\u300d\\u3002\\r\\n\\r\\n\\u5bb6\\u9577\\u8ddf\\u6821\\u9577\\u53cd\\u6620\\u6b64\\u4e8b\\uff0c\\u5c1a\\u672a\\u5f97\\u5230\\u56de\\u61c9\\uff0c\\u4f46\\u9084\\u662f\\u5fcd\\u4e0d\\u4f4f\\u4e0a\\u7db2\\u554f\\u5176\\u4ed6\\u7db2\\u53cb\\uff0c\\u6703\\u4e0d\\u6703\\u6309\\u7167\\u7537\\u8001\\u5e2b\\u7684\\u6307\\u793a\\u53bb\\u505a\\u3002\\u6709\\u7db2\\u53cb\\u8868\\u793a\\uff0c\\u585e\\u68c9\\u689d\\u4e0d\\u6703\\u5f71\\u97ff\\u8655\\u5973\\u819c\\uff0c\\u4e0d\\u662f\\u4e00\\u5b9a\\u8981\\u6709\\u6027\\u7d93\\u9a57\\u7684\\u4eba\\u624d\\u80fd\\u4f7f\\u7528\\uff0c\\u6cc1\\u4e14\\u6709\\u6642\\u5019\\u5b78\\u751f\\u53ef\\u80fd\\u56e0\\u70ba\\u4e0d\\u60f3\\u4e0a\\u9ad4\\u80b2\\u8ab2\\u800c\\u8b0a\\u7a31\\u4f86\\u6708\\u7d93\\uff0c\\u6240\\u4ee5\\u7537\\u8001\\u5e2b\\u624d\\u6703\\u6709\\u9019\\u6a23\\u7684\\u8981\\u6c42\\u3002\\r\\n\\r\\n\\u4e0d\\u904e\\u5927\\u90e8\\u4efd\\u7684\\u7db2\\u53cb\\u7121\\u6cd5\\u8a8d\\u540c\\u9019\\u540d\\u7537\\u8001\\u5e2b\\u7684\\u8981\\u6c42\\uff0c\\u7d1b\\u7d1b\\u7559\\u8a00\\u8868\\u793a\\u300c\\u9019\\u8001\\u5e2b\\u6709\\u4ec0\\u9ebc\\u6bdb\\u75c5\\u300d\\u3001\\u300c\\u5c0f\\u5b69\\u662f\\u8981\\u62da\\u570b\\u5bb6\\u6e38\\u6cf3\\u968a? \\u9019\\u9ebc\\u786c\\u300d\\u3001\\u300c\\u5927\\u4eba\\u585e\\u90fd\\u4e0d\\u8212\\u670d\\uff0c\\u4f55\\u6cc1\\u5c0f\\u5973\\u751f\\uff1f\\u5805\\u6c7a\\u4e0d\\u80fd\\u63a5\\u53d7\\u300d\\u3001\\u300c\\u6708\\u4e8b\\u4f86\\u4e0d\\u4e0b\\u6c34\\u662f\\u5e38\\u8b58\\u5427\\u300d\\u3001\\u300c\\u9019\\u8001\\u5e2b\\u662f\\u600e\\u6a23\\uff1f\\u9b27\\u4e8b\\u300d\\u3001\\u300c\\u5982\\u679c\\u5b69\\u5b50\\u5c0d\\u7dbf\\u689d\\u4f7f\\u7528\\u4e0d\\u5920\\u6210\\u719f\\uff0c\\u6f0f\\u4e86\\u51fa\\u4f86\\u6216\\u611f\\u67d3\\uff0c\\u5f8c\\u7e8c\\u8655\\u7406\\u66f4\\u9ebb\\u7169\\u300d\\u3001\\u300c\\u662f\\u4e0d\\u662f\\u8b8a\\u614b\\u8001\\u5e2b\\u300d\\u3001\\u300c\\u6211\\u6703\\u62ff\\u885b\\u751f\\u68c9\\u689d\\u585e\\u90a3\\u8001\\u5e2b\\u7684\\u5634\\u5df4\\u300d\\u3001\\u300c\\u68c9\\u689d\\u4e26\\u4e0d\\u5f71\\u97ff\\u8655\\u5973\\u819c\\u2026\\u4f46\\u6708\\u7d93\\u4f86\\u672c\\u4f86\\u5c31\\u4e0d\\u7528\\u4e0b\\u6c34\\u8981\\u5982\\u4f55\\u8209\\u8b49\\u300d\\u3001\\u300c\\u6708\\u7d93\\u4f86\\u4e0d\\u5efa\\u8b70\\u4e0b\\u6c34\\u300d\\u3001\\u300c\\u4f60\\u8981\\u4e0d\\u8981\\u76f4\\u63a5\\u516c\\u5e03\\u5b78\\u6821\\u8ddf\\u8001\\u5e2b\\u7684\\u540d\\u5b57\\uff1f\\u4ed6\\u5011\\u5df2\\u7d93\\u5728\\u9738\\u51cc\\u4f60\\u5973\\u5152\\u4e86\\u300d\\u3001\\u300c\\u8b49\\u660e\\u5c31\\u76f4\\u63a5\\u7d66\\u4ed6\\u4e00\\u7247\\u7d05\\u901a\\u901a\\u6fd5\\u6dcb\\u6dcb\\u7684\\u885b\\u751f\\u68c9\\u597d\\u4e86\\u300d\\u3002\\r\\n\\r\\n\\r\\nhttps://www.ctwant.com/article/104377\\r\\n\\r\\n\\u9084\\u883b\\u7121\\u8a00\\u7684\\r\\n\\u6708\\u7d93\\u4f86\\u6642\\u9670\\u9053\\u6bd4\\u5e73\\u6642\\u8106\\u5f31\\u66f4\\u5bb9\\u6613\\u53d7\\u611f\\u67d3\\r\\n\\u66f4\\u5225\\u8aaa\\u8981\\u6ce1\\u9032\\u6e38\\u6cf3\\u6c60\\u90a3\\u7a2e\\u5316\\u5b78\\u7269\\u4e00\\u5806\\u53c8\\u6eff\\u662f\\u5927\\u5bb6\\u76ae\\u5c51\\u7d30\\u83cc\\u53e3\\u6c34\\u6c57\\u7684\\u5730\\u65b9\\r\\n\\u7528\\u68c9\\u689d\\u662f\\u6e38\\u6cf3\\u9078\\u624b\\u6216\\u771f\\u7684\\u5f88\\u60f3\\u4e0b\\u6c34\\u4e0d\\u5f97\\u4e0d\\u7684\\u9078\\u64c7\",\n          \"\\u5982\\u984c\\r\\n\\u6211\\u559c\\u6b61\\u7684\\u5973\\u751f\\u4eca\\u5929\\u7a81\\u7136\\u767c\\u4e86\\u4e00\\u7bc7\\u524d\\u4efb\\u60f3\\u633d\\u56de\\u5979\\u7684\\u9650\\u6642\\r\\n\\u800c\\u6211\\u5728\\u597d\\u5947\\u5fc3\\u9a45\\u4f7f\\u4e4b\\u4e0b\\u53bb\\u554f\\u4e86\\u4ed6\\u90a3\\u662f\\u8ab0\\uff08\\u4ed6\\u77e5\\u9053\\u6211\\u559c\\u6b61\\u4ed6\\uff09\\r\\n\\u7d50\\u679c\\u88ab\\u5979\\u56de\\uff1a\\u4f60\\u53c8\\u4e0d\\u662f\\u6211\\u7537\\u670b\\u53cb\\uff0c\\u4e0d\\u80fd\\u990a\\u6210\\u4f60\\u7ba1\\u6211\\u7684\\u7fd2\\u6163\\r\\n\\u9019\\u662f\\u4ec0\\u9ebc\\u610f\\u601d\\u5462\\uff1f\\uff1f(\\u0ca5_\\u0ca5)\\r\\n\\r\\n\\r\\n\\u66f4\\r\\n\\u4f46\\u662f\\u6211\\u8ddf\\u5979\\u7684\\u4e92\\u52d5\\u611f\\u89ba\\u883b\\u89aa\\u5bc6\\u7684\\r\\n\\u5f88\\u591a\\u5f88\\u96b1\\u79c1\\u7684\\u4e8b\\u60c5\\u90fd\\u6703\\u8b93\\u6211\\u77e5\\u9053\\r\\n\\u5225\\u4eba\\u8ddf\\u5979\\u544a\\u767d\\u4e5f\\u90fd\\u6703\\u8ddf\\u6211\\u8aaa\\r\\n\\r\\n\\r\\n\\u672c\\u7bc7\\u4e0d\\u5e0c\\u671b\\u4e0a\\u4efb\\u4f55\\u7248\\u9762\\r\\n\\u8acb\\u52ff\\u8f49\\u8f09\\u8b1d\\u8b1d\",\n          \"\\u4e0d\\u66c9\\u5f97\\u662f\\u4e0d\\u662f\\u5f88\\u4e45\\u4e4b\\u524d\\u7684\\u529f\\u80fd\\u4e86\\r\\n\\u53cd\\u6b63\\u6211\\u624d\\u525b\\u767c\\u73fe\\r\\n\\u9806\\u4fbf\\u5206\\u4eab\\u7d66\\u9084\\u4e0d\\u77e5\\u9053\\u7684\\u5e25\\u54e5\\u7f8e\\u5973\\u5011\\ud83e\\udd23\\r\\n\\r\\n\\r\\nhttps://i.imgur.com/bOXTAaE.jpg\\r\\n\\r\\n\\r\\n\\u8a2d\\u5b9a-\\u5e33\\u865f-\\u8fd1\\u671f\\u522a\\u9664\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":51}],"source":["# âœ… STEP 3: æº–å‚™ä½ çš„èªæ–™\n","\n","# docs_df = (\"dcard-top100.csv\") #åŸé¡Œç›®ä¸å®Œæ•´è™•\n","# @@ ä¸å®Œæ•´ç¨‹å¼è£œå…… #1**\n","docs_df = pd.read_csv(\"dcard-top100.csv\") # Read the CSV file into a DataFrame\n","#\n","documents = docs_df[\"content\"].tolist()\n","print(len(documents))\n","docs_df"]},{"cell_type":"markdown","metadata":{"id":"vv2f6LqHKmwr"},"source":["---\n","---\n","#[4] å»ºç«‹embeddingæ¨¡å‹èˆ‡FAISSç´¢å¼•\n","---\n","---"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"hyFlpzddhHiV"},"outputs":[],"source":["# âœ… STEP 4: å»ºç«‹ embedding æ¨¡å‹èˆ‡ FAISS ç´¢å¼•\n","\n","embedding_model = SentenceTransformer(\"shibing624/text2vec-base-multilingual\")\n","\n","# è½‰æ›ç‚ºå‘é‡ä¸¦æ­£è¦åŒ–ï¼ˆä¾¿æ–¼ cosine ç›¸ä¼¼åº¦ï¼‰\n","doc_embeddings = embedding_model.encode(documents, normalize_embeddings=True)\n","\n","# å»ºç«‹å‘é‡ç´¢å¼•\n","index = faiss.IndexFlatIP(doc_embeddings.shape[1])\n","index.add(doc_embeddings)\n"]},{"cell_type":"markdown","source":["  # [4A]  ä½œæ¥­éç¨‹å¢åŠ è¼¸å‡ºä»¥æª¢è¦–äº†è§£è³‡æ–™åº«ç‹€æ³"],"metadata":{"id":"-ARxe0yPlfQw"}},{"cell_type":"code","source":["# :::::è‡ªå·±æ·»åŠ  æª¢è¦–äº†è§£è³‡æ–™åº« :::::\n","print(doc_embeddings.shape)\n","print(index.ntotal)  # Get the number of vectors in the index\n","print(embedding_model.encode([\"NTUST archi 123445 ee ds\"]).shape) # Get the shape of the embeddings for a sample input\n","print(index)\n","print(type(index)) # print the type of the index\n","print(embedding_model.encode([\"test\"]).shape)\n","print(index.add(doc_embeddings))\n"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"qQ7u0-ZNqr1w","executionInfo":{"status":"ok","timestamp":1743889997858,"user_tz":-480,"elapsed":80,"user":{"displayName":"åˆå¥åŸ","userId":"08860006871766403367"}},"outputId":"d9108ab8-3e6d-4a1f-874e-c9ea76d5d5c5"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["(100, 384)\n","100\n","(1, 384)\n","<faiss.swigfaiss_avx2.IndexFlatIP; proxy of <Swig Object of type 'faiss::IndexFlatIP *' at 0x7e02e444c360> >\n","<class 'faiss.swigfaiss_avx2.IndexFlatIP'>\n","(1, 384)\n","None\n"]}]},{"cell_type":"markdown","metadata":{"id":"6_f_ksPeLwwq"},"source":["---\n","---\n","#[5] å‘¼å«HuggingFace æ¨¡å‹API\n","---\n","---"]},{"cell_type":"markdown","source":["# **:::::ä¸å®Œæ•´ç¨‹å¼è£œå…… #2**:::::\n","## - æ¡ç”¨2ç¨®(æ“‡ä¸€å³å¯ï¼‰è¼¸å…¥HUGGINGFACE_TOKENé¿å…å°‡æ­¤æ•æ„Ÿä¿¡æ¯ç›´æ¥æš´éœ²åœ¨ç¨‹å¼ç¢¼ä¸­æ–¹å¼\n","\n","## [1] huggingface_hub login(); loginä¸€æ¬¡å¾Œ,å¾ŒçºŒå³å¯è·¨æ©Ÿå™¨é•·æœŸä½¿ç”¨\n","\n","## [2] Colabç§˜å¯†ç®¡ç†å“¡ä¸­å»ºç«‹HUGGINGFACE_TOKENç’°å¢ƒè®Šæ•¸; å¾ŒçºŒåœ¨Colabä¸­å¯ç›´æ¥å«å‡º\n","\n"],"metadata":{"id":"q9z3UILIpChy"}},{"cell_type":"code","execution_count":null,"metadata":{"id":"FZh8IwkZMghV"},"outputs":[],"source":["# 1.huggingface_hub login()\n","#!pip install huggingface\n","\n","# åšéä¸€æ¬¡login ,é‡‘é‘°å·²å­˜å…¥huggingface_hub,å¾ŒçºŒåªéœ€import HfFolderå³å¯å«å‡º\n","#from huggingface_hub import login\n","#login(\"æˆ‘çš„é‡‘é‘°\")\n","#\n","from huggingface_hub import HfFolder\n","HUGGINGFACE_TOKEN=HfFolder.get_token()\n","#print(HUGGINGFACE_TOKEN)  # æ¸¬è©¦æˆ‘çš„é‡‘é‘°æ˜¯å¦æ­£ç¢º"]},{"cell_type":"code","source":["# 2. Colab secret env. variable\n","from google.colab import userdata\n","HUGGINGFACE_TOKEN = userdata.get('HUGGINGFACE_TOKEN')\n","#print(HUGGINGFACE_TOKEN)"],"metadata":{"id":"p4i1USuKzCsy"},"execution_count":null,"outputs":[]},{"cell_type":"code","execution_count":null,"metadata":{"id":"sAQBnP8xXmf_"},"outputs":[],"source":["#### åŸä½œæ¥­é¡Œç›®ç›´æ¥ä¸Šå‚³æ–¹å¼ ####\n","\n","# @@ è£œå……#2 æˆ‘çš„ api token\n","\n","# HUGGINGFACE_TOKEN = \"æˆ‘çš„é‡‘é‘°\"\n","#### ä½œæ¥­å®Œæˆå¾Œè«‹åˆªé™¤æ­¤ code chunk å¾Œå†ä¸Šå‚³ä½œæ¥­ ####"]},{"cell_type":"markdown","source":["\n","\n","---\n","## æ¨¡å‹èªªæ˜ï¼š**ChatYuan-large-v2** ï¼ˆç°¡é«”ä¸­æ–‡ï¼‰\n","### * æ˜¯ä¸€ä¸ªæ”¯æŒä¸­è‹±åŒè¯­çš„åŠŸèƒ½å‹å¯¹è¯è¯­è¨€å¤§æ¨¡å‹, v2ä½¿ç”¨äº†å’Œ v1ç‰ˆæœ¬ç›¸åŒçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œåœ¨æŒ‡ä»¤å¾®è°ƒã€äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ã€æ€ç»´é“¾ç­‰æ–¹é¢è¿›è¡Œäº†ä¼˜åŒ–\n","\n","#### ^ ChatYuan-large-v2æ˜¯ChatYuanç³»åˆ—ä¸­ä»¥è½»é‡åŒ–å®ç°é«˜è´¨é‡æ•ˆæœçš„æ¨¡å‹ä¹‹ä¸€ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ¶ˆè´¹çº§æ˜¾å¡(6G)ã€ PCç”šè‡³æ‰‹æœºä¸Šè¿›è¡Œæ¨ç†ï¼ˆINT4 æœ€ä½åªéœ€ 400M ï¼‰ã€‚\n","\n","#### ^ åœ¨chatyuan-large-v1çš„åŸæœ‰åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ç»™æ¨¡å‹è¿›è¡Œäº†å¦‚ä¸‹ä¼˜åŒ–ï¼š\n","\n","! å¢å¼ºäº†åŸºç¡€èƒ½åŠ›ã€‚åŸæœ‰ä¸Šä¸‹æ–‡é—®ç­”ã€åˆ›æ„æ€§å†™ä½œèƒ½åŠ›æ˜æ˜¾æå‡ã€‚\n","\n","! æ–°å¢äº†æ‹’ç­”èƒ½åŠ›ã€‚å¯¹äºä¸€äº›å±é™©ã€æœ‰å®³çš„é—®é¢˜ï¼Œå­¦ä¼šäº†æ‹’ç­”å¤„ç†ã€‚\n","\n","! æ–°å¢äº†ä»£ç ç”ŸæˆåŠŸèƒ½ã€‚å¯¹äºåŸºç¡€ä»£ç ç”Ÿæˆè¿›è¡Œäº†ä¸€å®šç¨‹åº¦ä¼˜åŒ–ã€‚\n","\n","! æ–°å¢äº†è¡¨æ ¼ç”ŸæˆåŠŸèƒ½ã€‚ä½¿ç”Ÿæˆçš„è¡¨æ ¼å†…å®¹å’Œæ ¼å¼æ›´é€‚é…ã€‚\n","\n","! å¢å¼ºäº†åŸºç¡€æ•°å­¦è¿ç®—èƒ½åŠ›ã€‚\n","\n","! æœ€å¤§é•¿åº¦tokenæ•°ä»1024æ‰©å±•åˆ°4096ã€‚\n","\n","! å¢å¼ºäº†æ¨¡æ‹Ÿæƒ…æ™¯èƒ½åŠ›ã€‚\n","\n","! æ–°å¢äº†ä¸­è‹±åŒè¯­å¯¹è¯èƒ½åŠ›ã€‚\n","\n","\n","---\n","\n","\n"],"metadata":{"id":"VO344qd43qYc"}},{"cell_type":"markdown","metadata":{"id":"_yivGtvVmEzS"},"source":["## **:::::ä¸å®Œæ•´ç¨‹å¼è£œå…… #3 & 4**:::::promptä¸­åŠ å…¥è£œå……ï¼š\n","## - åœ¨promptä¸­åŠ å…¥äº†**äººè¨­**ï¼ŒæŒ‡å°æ¨¡å‹å›ç­”æ–¹å‘\n","## - è³‡æ–™èˆ‡å•é¡Œå¾Œçš„å¤§æ‹¬è™Ÿå…§ç•™ç™½è™•è£œå……ç›¸é—œæ–‡å­—è®Šæ•¸"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"LSZpCZY2Jk42"},"outputs":[],"source":["# ğŸ¤– STEP 5: å‘¼å« HuggingFace æ¨¡å‹ API\n","\n","API_URL = \"https://api-inference.huggingface.co/models/ClueAI/ChatYuan-large-v2\"\n","\n","headers = {\"Authorization\": f\"Bearer {HUGGINGFACE_TOKEN}\"}\n","\n","# å®Œæˆ prompt\n","# @@è£œå……#3 äººè¨­\n","# @@è£œå……#4 å¤§æ‹¬è™Ÿå…§è³‡æ–™èˆ‡å•é¡Œæ–‡å­—è®Šæ•¸åç¨±\n","def generate_answer(query, context_docs):\n","    context = \"\\n\".join(f\"- {doc[:300]}\" for doc in context_docs)  # é¿å…å¤ªé•·\n","    prompt = f\"\"\"ä½ æ˜¯ä¸€å€‹æ–‡å­—å°ˆå®¶,å°ç„¡å˜é ­è¡¨é”å¾ˆèƒ½åƒé€ï¼Œè«‹æ ¹æ“šä»¥ä¸‹è³‡æ–™å›ç­”å•é¡Œï¼Œè‹¥æ²’æœ‰ç›¸é—œè³‡è¨Šè«‹å›ç­”ã€Œæ‰¾ä¸åˆ°ç­”æ¡ˆã€ã€‚\n","\n","è³‡æ–™ï¼š{context}\n","\n","å•é¡Œï¼š{query}\n","\n","è«‹ç”¨ä¸€åˆ°å…©å¥è©±å›ç­”ã€‚\n","\"\"\"\n","    #print(prompt)\n","\n","    payload = {\"inputs\": prompt}\n","    response = requests.post(API_URL, headers=headers, json=payload, timeout=60)\n","\n","    # éç¨‹ä¸­å¤–åŠ æª¢æŸ¥ç”¨:Check the response status code\n","    if response.status_code != 200:\n","        print(f\"Error: Request failed with status code {response.status_code}\")\n","        print(response.text)  # Print the raw response content\n","        return f\"âŒ API request failed with status code {response.status_code}\"\n","    #print(response.json())\n","\n","    try:\n","        data = response.json()\n","        if isinstance(data, list) and \"generated_text\" in data[0]:\n","            return data[0][\"generated_text\"]\n","        elif isinstance(data, dict) and \"generated_text\" in data:\n","            return data[\"generated_text\"]\n","        else:\n","            return f\"âš ï¸ ç„¡æ³•è§£ææ¨¡å‹å›æ‡‰ï¼š{data}\"\n","    except Exception as e:\n","        return f\"âŒ ç™¼ç”ŸéŒ¯èª¤ï¼š{e}\"\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"YsNXxDXkJkDt"},"outputs":[],"source":["def search(query, top_k=3):\n","\n","  query_vec = embedding_model.encode([query], normalize_embeddings=True)\n","  scores, indices = index.search(query_vec, top_k)\n","\n","  matched_docs = [documents[i] for i in indices[0]]\n","\n","  return matched_docs\n"]},{"cell_type":"markdown","metadata":{"id":"KdV6AHHd3-Sr"},"source":["---\n","---\n","#[6] ä½¿ç”¨è€…è¼¸å…¥å•é¡Œï¼Œæ‰¾å‡ºæœ€ç›¸é—œçš„å…§å®¹\n","---\n","---"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":3116,"status":"ok","timestamp":1743897587612,"user":{"displayName":"åˆå¥åŸ","userId":"08860006871766403367"},"user_tz":-480},"id":"I7dD9LOaKb8r","outputId":"bc733290-8d2c-4bfd-ab3f-7eb8da4b0e9b"},"outputs":[{"output_type":"stream","name":"stdout","text":["ğŸ” ç›¸é—œæ®µè½ï¼š\n"," è¨Šæ¯å‡çµåœ¨2/21\r\n","ä»Šå¤©æ˜¯2/28\r\n","ä¹Ÿæ˜¯ä½ é›¢é–‹çš„ç¬¬ä¸ƒå¤©\r\n","ä¸€å€‹åœ¨å—éƒ¨è®€æ›¸ä¸€å€‹ä¸€æ¨£åœ¨åŒ—éƒ¨\r\n","ï¼ˆæˆ‘å€‘éƒ½æ˜¯åŒ—éƒ¨äººï¼‰\r\n","ç•¶åˆåœ¨éŠæˆ²ç›¸é‡ä½ ä¾†æ‰¾æˆ‘\r\n","å¾Œä¾†èŠä¸€èŠç™¼ç¾ä½ æ˜¯æˆ‘çš„å­¸é•·\r\n","æˆ‘å€‘éƒ½æ˜¯ç«è±¡æ˜Ÿåº§é›£æ€ªé€™éº¼åˆ\r\n","\n","ğŸ’¬ AI å›ç­”ï¼š\n"," è¬è¬!\n"]}],"source":["# âœ… STEP 6: ä½¿ç”¨è€…è¼¸å…¥å•é¡Œï¼Œæ‰¾å‡ºæœ€ç›¸é—œçš„å…§å®¹\n","\n","#query = \"åœ¨å“ªè£¡å¯ä»¥çœ‹åˆ°å¾ˆå¤šè‰è“ï¼Ÿ\"\n","#query = \"å°ç£æœ‰è·Ÿé³³æ¢¨æœ‰é—œçš„å¤§å­¸å—?\"\n","#query = \"é­”ç¾¯åº§å€‹æ€§å¥½ä¸å¥½ï¼Ÿï¼Ÿ\"\n","query = \"ç¾åœ¨æ˜¯è¥¿å…ƒå¹¾å¹´ï¼Ÿ\"\n","\n","relevant_docs = search(query, top_k=3)\n","answer = generate_answer(query, relevant_docs)\n","\n","print(\"ğŸ” ç›¸é—œæ®µè½ï¼š\\n\", \"\\n---\\n\".join(relevant_docs)[:100])\n","print(\"\\nğŸ’¬ AI å›ç­”ï¼š\\n\", answer)"]},{"cell_type":"markdown","metadata":{"id":"jVptzOzsJDHF"},"source":["## 2. è«‹å›ç­”ä»¥ä¸‹å•é¡Œ (50%)\n","\n","è«‹å˜—è©¦è¼¸å…¥è‡³å°‘ 3 å€‹å•é¡Œçµ¦ä½ çš„å•ç­”ç³»çµ±ï¼Œä¸¦è§€å¯Ÿæ¨¡å‹å›ç­”çš„æº–ç¢ºæ€§èˆ‡è¡¨ç¾ï¼š\n","\n","- ä½ å•äº†å“ªäº›å•é¡Œï¼Ÿ\n","\n","- æ¨¡å‹æ˜¯å¦æˆåŠŸå¾èªæ–™ä¸­æ‰¾åˆ°èˆ‡å•é¡Œç›¸é—œçš„å…§å®¹ï¼Ÿ\n","\n","- å›ç­”æ˜¯å¦åˆç†ï¼Ÿæ˜¯å¦æœ‰äº‚ç·¨çš„æƒ…æ³ï¼Ÿ\n","\n","- è‹¥å•é¡Œç„¡æ³•å›ç­”ï¼Œæ¨¡å‹æ˜¯å¦èƒ½æ­£ç¢ºå›æ‡‰ã€Œæ‰¾ä¸åˆ°ç­”æ¡ˆã€ï¼Ÿ\n","\n","è«‹æ ¹æ“šä½ çš„è§€å¯Ÿï¼Œç°¡è¿°æ¨¡å‹æ•´é«”è¡¨ç¾çš„å„ªç¼ºé»ã€‚\n"]},{"cell_type":"markdown","source":["\n","---\n","---\n","## 2. å›ç­”ï¼š\n","### - å…ˆè¤‡è£½äº†ä½œæ¥­é¡Œç›®ä¸­åŸå§‹çš„å•é¡Œï¼Œä¸¦å¾—åˆ°ç›¸åŒçš„çµæœ(å¦‚å¦é™„æˆªåœ–)ï¼Œæª¢æ ¸ç¨‹å¼ä¿®æ”¹å¾ŒåŸ·è¡Œç‹€æ³ç„¡èª¤\n","\n","\n","\n","---\n","\n","\n"],"metadata":{"id":"KhoWBYeOMc6L"}},{"cell_type":"markdown","source":["\n","\n","---\n","\n","\n","\n","---\n","\n","## - ä½ å•äº†å“ªäº›å•é¡Œï¼Ÿ\n","### æˆ‘å•äº†å¾ˆå¤šå•é¡Œï¼Œå¤§éƒ¨åˆ†çš„çµæœéƒ½ä¸æ»¿æ„ï¼Œæœ€å¾Œæ¡ç”¨ä¸‹é¢é€™ä¸‰å€‹å…§å®¹è’å°‹ç›¸å°è¼ƒå®Œæ•´çš„å•é¡Œï¼ˆå¦‚å¦é™„ä¸‰å¼µæˆªåœ–ï¼‰ï¼š\n","ä¸€.äº¤å‹è¦æ³¨æ„ä»€éº¼ï¼Ÿï¼ˆå› ç‚ºçœ‹åˆ°å¾ˆå¤šç¯‡æåˆ°ç”·å¥³äº¤å¾€çš„æ•…äº‹ï¼Œæ‰€ä»¥æƒ³çœ‹çœ‹æœƒæˆªå–åˆ°ä»€éº¼æ¨£çš„å…§å®¹ï¼Ÿï¼‰\n","\n","äºŒ.é¹¿æ¸¯åœ¨å“ªè£¡ï¼Ÿï¼ˆæœ‰çœ‹åˆ°æœ‰å…©ç¯‡æåˆ°é¹¿æ¸¯ï¼Œå› æ­¤æ¡ç”¨é€™å€‹å•é¡Œï¼‰\n","\n","ä¸‰.å°ç£æœ‰è·Ÿé³³æ¢¨æœ‰é—œçš„å¤§å­¸å—ï¼Ÿï¼ˆé€™æ˜¯åªæœ‰å…¶ä¸­ä¸€å‰‡Dcardæ–‡ç« æåˆ°çš„å…§å®¹\n","\n","\n","---\n","\n","\n"],"metadata":{"id":"Ep-x-WyhNo2V"}},{"cell_type":"markdown","source":["\n","\n","---\n","\n","## - æ¨¡å‹æ˜¯å¦æˆåŠŸå¾èªæ–™ä¸­æ‰¾åˆ°èˆ‡å•é¡Œç›¸é—œçš„å…§å®¹ï¼Ÿ\n","- æ¨¡å‹æ™®éä¸Šå¯ä»¥å¾èªæ–™ä¸­æ‰¾åˆ°ä¸€äº›ç›¸é—œçš„å…§å®¹\n","- ä½†æœ‰äº›è©±é¡Œçš„éƒ¨åˆ†å•é¡Œæ‰¾çš„è³‡æ–™ä¸¦ä¸é©åˆï¼Œä¾‹å¦‚æ›¾ç¶“è©¢å•éçš„åŒ–å¦ã€å åœã€æ˜Ÿåº§ã€éŸ“æ˜Ÿæç¹ç æœ‰é—œçš„å•é¡Œ\n","\n","---\n","\n","## - å›ç­”æ˜¯å¦åˆç†ï¼Ÿæ˜¯å¦æœ‰äº‚ç·¨çš„æƒ…æ³ï¼Ÿ\n","- å¤§éƒ¨åˆ†å•é¡Œçš„å›ç­”ä¸å¤ªåˆç†ï¼Œå•äº†ç´„40é¡Œï¼Œå¤§æ¦‚åªæœ‰ä¸åˆ°10é¡Œå›ç­”åˆç†\n","- å¸¸å¸¸åœ¨ç„¡æ³•å›ç­”çš„æ™‚å€™æœƒä¸€ç›´é‡è¤‡ï¼Œç”¨ã€Œè¬è¬ï¼ã€å›ç­”\n","- å›ç­”çš„å­—æ•¸ä¼¼ä¹é™åˆ¶åœ¨20å­—ä»¥å…§ï¼Œç¨‹å¼ä¸­æˆ‘ä¹Ÿæ‰¾ä¸åˆ°å¯ä»¥èª¿æ•´çš„åœ°æ–¹ï¼Œæ‰€ä»¥åªèƒ½å•ç°¡ç­”é¡Œ\n","- å¸¸å¸¸æœ‰ç­”éæ‰€å•ã€å›ç­”æ¼å­—ã€èªè¨€ä¸é€šé †ç­‰äº‚ç·¨çš„æƒ…æ³\n","\n","---\n","\n","## - è‹¥å•é¡Œç„¡æ³•å›ç­”ï¼Œæ¨¡å‹æ˜¯å¦èƒ½æ­£ç¢ºå›æ‡‰ã€Œæ‰¾ä¸åˆ°ç­”æ¡ˆã€ï¼Ÿ\n","- å•äº†40é¡Œï¼Œæœ‰äº›é¡Œç›®å®Œå…¨åœ¨å¢å¼·è³‡æ–™Dcardå…§å®¹ä¸­æ²’æœ‰æåˆ°ï¼Œä¹Ÿä¸æœƒå›ç­”ã€Œæ‰¾ä¸åˆ°ç­”æ¡ˆã€\n","- å•åˆ°è·Ÿå¢å¼·è³‡æ–™ç„¡é—œçš„å…§å®¹æ™‚ï¼Œé™¤äº†æ‰¾å‡ºä¸ç›¸é—œçš„å…§å®¹ä»¥å¤–ï¼Œå¸¸å¸¸å‡ºç¾åŸ·è¡ŒéŒ¯èª¤çš„æƒ…å½¢\n","\n","\n","---\n","\n","\n","## - è«‹æ ¹æ“šä½ çš„è§€å¯Ÿï¼Œç°¡è¿°æ¨¡å‹æ•´é«”è¡¨ç¾çš„å„ªç¼ºé»ã€‚\n","- æˆ‘ä¾æ“šç¨‹å¼çš„å…§å®¹å»æ¢ç©¶å…¶åšæ³•ï¼Œä¼¼ä¹åªèƒ½å¾æä¾›çš„100å‰‡Dcardå…§å®¹ä¸­å°‹æ‰¾èˆ‡æå•ç›¸é—œçš„å…§å®¹ï¼ˆç¨‹å¼é™åˆ¶åœ¨300å­—ï¼‰ï¼Œå†å°‡æå•èˆ‡é€™äº›æ‰¾åˆ°çš„å…§å®¹æé€çµ¦å¤§æ¨¡å‹å»å¾é€™äº›è³‡æ–™å…§å®¹ä¸­æ‰¾åˆ°æå•æ‰€éœ€è¦çš„ç­”æ¡ˆ\n","- ç•¶æå•è¶…å‡ºå¢å¼·è³‡æ–™çš„ç¯„åœæ™‚ï¼Œç¨‹å¼å¸¸å¸¸å‡ºç¾åŸ·è¡ŒéŒ¯èª¤ï¼Œæœªå‡ºç¾åœ¨å¢å¼·è³‡æ–™ç¯„åœçš„åŸºæœ¬çš„å¸¸è­˜å•é¡Œä¹Ÿæœƒå‡ºç¾ç¨‹å¼åŸ·è¡ŒéŒ¯èª¤ï¼Œä¾‹å¦‚ã€Œç¾ä»»ç¾åœ‹ç¸½çµ±æ˜¯èª°ï¼Ÿã€é€™æ¨£çš„å•é¡Œã€‚\n","- ç”±æ­¤æ¨ä¼°å¢å¼·è³‡æ–™ä¼¼ä¹ä¸¦æ²’æœ‰åŠ å¼·æ¨¡å‹çš„è¡¨ç¾ï¼Œåè€Œå› ç‚ºé™åˆ¶äº†ä½¿ç”¨å¢å¼·è³‡æ–™çš„å…§å®¹å»ä½œç­”ï¼Œå› æ­¤é€£ä¸€äº›æœªæ›¾å‡ºç¾åœ¨å¢å¼·è³‡æ–™ä¸­çš„åŸºæœ¬çš„å•é¡Œä¹Ÿç„¡æ³•å›ç­”\n","- å› ç‚ºDcardçš„æ–‡ç« å…§å®¹å¸¸å¸¸åŠ å…¥ä¸€äº›ç¬¦è™Ÿæˆ–æ˜¯å¥å­å¤ªçŸ­ï¼Œé›£ä»¥è¡¨ç¾å¥å­çµæ§‹ï¼Œå› æ­¤æœå°‹ä¸Šä¼¼ä¹ä¸ç›¡ç†æƒ³\n","- ChatYuan-Large-V2 Modellçš„hugginfaceä¸­å…§å®¹æ•˜è¿°æ¡ç”¨çš„Temperature=0.7 ï¼Œä½†çœ‹èµ·ä¾†å›ç­”çš„å…§å®¹ä¼¼ä¹éå¸¸ä¿å®ˆåŠé‡è¤‡ï¼Œä¼¼ä¹æœ‰æ›´ä½Temperatureçš„è¡¨ç¾\n","- ç¶œä¸Šæ‰€è¿°ï¼Œç¨‹å¼é™¤äº†åœ¨å°‹æ‰¾èˆ‡æå•é¡ä¼¼çš„å…§å®¹ä¸Šæœ‰æ‰¾åˆ°è¼ƒæ¥è¿‘æ™‚å¯ä»¥æœ‰ä¸€äº›è¡¨ç¾ï¼Œå…¶é¤˜å¤§è‡´ä¸Šçœ‹ä¸å‡ºRAGçš„æ•ˆæœã€‚"],"metadata":{"id":"3k_3-gEqRY9T"}}],"metadata":{"colab":{"provenance":[{"file_id":"1nJ0cd6jsgoWSorMEk1cLgwe66aShIyKB","timestamp":1743901221024},{"file_id":"1xkG0KhRQm-Hua1K-NfFzwdpgpEcyC-F5","timestamp":1743249836744}]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}